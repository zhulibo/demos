<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- 重置样式 -->
    <link rel="stylesheet" href="css/reset.css">
    <!-- 主样式 -->
    <link rel="stylesheet" href="css/main.css">
    <!-- jq -->
    <script src="js/jquery-1.9.1.min.js"></script>
</head>

<body>
    <style media="screen">
        p {
            text-align: center;
            font-size: 18px;
            line-height: 5;
        }

        span {
            font-size: 22px;
            color: #f50;
        }
    </style>
    <div id="container">
        <p class="p1"></p>
        <p class="p2">距离2030年还有<span></span>天</p>
    </div>
    <!-- 钟表 -->
    <script type="text/javascript">
        $(document).ready(function() {
            showTime();

            function showTime() {
                var today = new Date();
                var year = today.getFullYear();
                var month = today.getMonth() + 1;
                var day = today.getDate();
                var weekNum = today.getDay(); //0-6 星期日-星期六
                var weekday = new Array(7);
                weekday[0] = "星期日";
                weekday[1] = "星期一";
                weekday[2] = "星期二";
                weekday[3] = "星期三";
                weekday[4] = "星期四";
                weekday[5] = "星期五";
                weekday[6] = "星期六";
                var hour = today.getHours();
                var minute = today.getMinutes();
                var second = today.getSeconds();
                //检测分秒是否为两位数 不是的两位数在前面加个0
                function checkTime(i) {
                    if (i < 10) {
                        i = "0" + i;
                    }
                    return i;
                }
                minute = checkTime(minute);
                second = checkTime(second);

                var currentTime = year + '年' + month + '月' + day + '日' + weekday[weekNum] + hour + '时' + minute + '分' + second + '秒';
                $('.p1').text(currentTime);
                setTimeout(showTime, 500);
            }
        })
    </script>
    <!-- 倒计时 -->
    <script type="text/javascript">
        $(document).ready(function() {
            showTime();

            function showTime() {
                var endTime = new Date('2030/1/1,12:20:0');
                var curTime = new Date();
                var chaTime = endTime.getTime() - curTime.getTime();
                var leftTime = parseInt(chaTime / 1000);
                var day = parseInt(leftTime / (24 * 60 * 60));
                var hour = parseInt(leftTime / (60 * 60) % 24);
                var minute = parseInt(leftTime / 60 % 60);
                var second = parseInt(leftTime % 60);
                //检测分秒是否为两位数 不是的两位数在前面加个0
                function checkTime(i) {
                    if (i < 10) {
                        i = "0" + i;
                    }
                    return i;
                }
                minute = checkTime(minute);
                second = checkTime(second);

                var currentTime = day + '天' + hour + '时' + minute + '分' + second + '秒';
                $('.p2 span').text(currentTime);
                if (leftTime < 0) {
                    $('.p2 span').text('倒计时结束');
                }
                setTimeout(showTime, 500);
            }
        })
    </script>
</body>

</html>
